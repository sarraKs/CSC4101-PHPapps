<?php

namespace App\DataFixtures;

use Doctrine\Bundle\FixturesBundle\Fixture;
use Doctrine\Persistence\ObjectManager;
use App\Entity\Chaussure;
use App\Entity\Placard;


class AppFixtures extends Fixture
{
    /**
     * Generates initialization data for chaussures : [categorie, marque, couleur]
     * @return \\Generator
     */
    private static function chaussuresDataGenerator()
    {
        yield ["Baskets", "Adidas", "Noir"];
        yield ["Bottes", "Chantal", "Blanc"];
        yield ["Bottes", "Geox", "Noir"];
        yield ["Sandales", "Carmela", "Beige"];
        yield ["Tongues", "Adidas", "Gris"];
        yield ["Baskets", "Nike", "Rose"];
        yield ["Baskets", "Geox", "Rose"];
        yield ["Sandales", "Carmela", "Blanc"];
    }
    
    /**
     * Generates initialization data for placard : [categorie, marque, couleur]
     * @return \\Generator
     */
    private static function chaussuresDataGenerator()
    {
        yield ["Baskets", "Adidas", "Noir"];
        yield ["Bottes", "Chantal", "Blanc"];
        yield ["Bottes", "Geox", "Noir"];
        yield ["Sandales", "Carmela", "Beige"];
        yield ["Tongues", "Adidas", "Gris"];
        yield ["Baskets", "Nike", "Rose"];
        yield ["Baskets", "Geox", "Rose"];
        yield ["Sandales", "Carmela", "Blanc"];
    }
   
    
    public function load(ObjectManager $manager)
    {
        //$chaussureRepo = $manager->getRepository(Chaussure::class);
        
        foreach (self::chaussuresDataGenerator() as [$categorie, $marque, $couleur] ) {
            $chaussure = new chaussure();
            $chaussure->setCategorie($categorie);
            $chaussure->setMarque($marque);
            $chaussure->setCouleur($couleur);
            $manager->persist($chaussure);
        }
        $manager->flush();
        
    }
}


